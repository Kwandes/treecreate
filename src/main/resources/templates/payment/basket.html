<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Basket</title>
    <link th:href="@{/img/logos/treecreateLogo/browserLogo.svg}" rel="icon">
    <link th:href="@{/styles/index.css}" rel="stylesheet">
    <link th:href="@{/styles/productNavbar.css}" rel="stylesheet">
    <link th:href="@{/styles/productFooter.css}" rel="stylesheet">
    <link th:href="@{/styles/basket.css}" rel="stylesheet">
    <script th:src="@{/js/login.js}"></script>
    <script th:src="@{/js/basket.js}"></script>
    <script th:src="@{/js/addToBasket.js}"></script>
    <script th:src="@{/js/cookiePrompt.js}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<section id="pageContainer">
    <section th:replace="products/productTemplate :: #navigationContainer"></section>
    <section id="contentContainer">
        <div id="basketContainer">
            <section class="basketSection">
                <section id="customerInformation" class="informationSection border">
                    <span id="formTitle" class="title">Delivery Information</span>
                    <input type="number" name="id" th:value="${user.id}" hidden>

                    <label for="inputName">Name:</label>
                    <input type="text" name="inputName" id="inputName" th:value="${user.name}" maxlength="80" required>

                    <label for="inputPhoneNumber">Phone Number:</label>
                    <input type="number" name="inputPhoneNumber" id="inputPhoneNumber" th:value="${user.phoneNumber}"
                           maxlength="15" required>

                    <label for="inputEmail">Email:</label>
                    <input type="email" name="inputEmail" id="inputEmail" th:value="${user.email}" maxlength="254"
                           required>

                    <label for="inputStreetAddress">Street Address:</label>
                    <input type="text" name="inputStreetAddress" id="inputStreetAddress"
                           th:value="${user.streetAddress}"
                           maxlength="99" required>

                    <label for="inputCity">City:</label>
                    <input type="text" name="inputCity" id="inputCity" th:value="${user.city}" maxlength="50" required>

                    <label for="inputPostcode">Postcode:</label>
                    <input type="text" name="inputPostcode" id="inputPostcode" th:value="${user.postcode}"
                           maxlength="15"
                           required>

                    <label for="inputCountry">Country:</label>
                    <select name="inputCountry" id="inputCountry" th:field="${user.country}">
                        <option value="Denmark">Denmark</option>
                        <option value="Other">Other</option>
                    </select>

                    <label for="checkboxNewsletter">
                        <input type="checkbox" name="checkboxNewsletter" id="checkboxNewsletter"> subscribe to the
                        newsletter
                    </label>
                </section>
                <section id="orderInformation" class="informationSection border">
                    <table id="orderTable">
                        <tr>
                            <th>Amount</th>
                            <th>Product</th>
                            <th>Total</th>
                            <th>Save</th>
                        </tr>
                        <tr class="orderRow" style="display: none">
                            <td class="orderAmount">N/A</td>
                            <td class="orderProduct">Family Tree - N/A</td>
                            <td class="orderTotal">N/A</td>
                            <td class="orderSaved">N/A</td>
                        </tr>
                        <tr style="border-top: 1px solid var(--mainColor); margin-top: 1vh;">
                            <td>Total Price</td>
                            <td></td>
                            <td id="totalPrice">0</td>
                            <td id="totalSaved">0</td>
                        </tr>
                        <tr>
                            <td>Tax</td>
                            <td></td>
                            <td id="totalTax">0</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Discount</td>
                            <td></td>
                            <td id="discountDisplay">0</td>
                            <td></td>
                        </tr>
                        <script>loadOrders()</script>
                    </table>
                    <section id="discountCode">
                        <label for="inputDiscountCode">Discount Code:</label>
                        <input id="inputDiscountCode" placeholder="Your discount code" maxlength="25"><br>
                        <input type="button" id="applyDiscountBtn" onclick="applyDiscount()" value="Apply discount">
                    </section>
                </section>
            </section>
            <section class="basketSection">
                <div id="acceptOrder" class="border">
                    <label for="termsAndConditionsCheckbox">
                        <input id="termsAndConditionsCheckbox" name="termsAndConditions" type="checkbox" required>
                        I have read the <a href="/orderTermsAndConditionsDanish" target="_blank">Terms and
                        Conditions</a>
                    </label>
                    <button onclick='goToPayment()'>Accept Order & Pay</button>
                </div>
            </section>
        </div>
    </section>
    <section th:replace="products/productTemplate :: #footerContainer"></section>
</section>
</body>
</html>